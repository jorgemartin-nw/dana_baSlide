<!-- 1. SCRIPT DE TAILWIND CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- 2. BLOQUE DE ESTILOS CSS -->
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
  
  body { 
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
  }

  html, body {
    overflow-x: hidden;
    width: 100%;
  }

  /* Contenedor del Before/After. Fijo al fondo. */
  .baslide-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
  }

  /* Contenedor que apila las dos imágenes */
  .baslide-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  /* Estilo común para ambas imágenes (propiedades base) */
  .baslide-img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-position: center;
    /* Añadido para mejor rendimiento en animación */
    will-change: transform, object-fit;
  }

  #baslide-before {
    z-index: 1; /* Imagen de fondo */
  }

  #baslide-after {
    z-index: 2; /* Imagen de encima (la que se recorta) */
    
    /* El "baSlide" se controla con clip-path.
      'polygon(0 0, 0% 0, 0% 100%, 0 100%)' significa que 
      está 0% visible (recortada por la izquierda).
      El JavaScript la animará hasta '100%'.
    */
    clip-path: polygon(0 0, 0% 0, 0% 100%, 0 100%);
    will-change: clip-path;
  }

  /* Animación texto (igual que antes) */
  .step-content {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    will-change: opacity, transform;
  }
  .step.is-active .step-content {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* ---- REGLA PARA MÓVIL (Explícita) ---- */
  @media (max-width: 767px) {
    .baslide-img {
      /* Asegura que la imagen cubra toda la pantalla */
      object-fit: cover;
      /* Fuerza a NO rotar */
      transform: rotate(0deg);
    }
  }

  /* ---- REGLA PARA DESKTOP (Explícita) ---- */
  @media (min-width: 768px) {
    .baslide-img {
      /* Gira la imagen 90 grados */
      transform: rotate(90deg);

      /* Cambiamos a 'contain' para que la imagen
         girada se vea ENTERA (sin recortes). */
      object-fit: contain;
    }
  }
</style>

<!-- 
  3. ESTRUCTURA HTML
-->

<!-- Contenedor fijo para las imágenes de fondo -->
<aside class="baslide-wrapper">
  <div class="baslide-container">
    <!-- IMAGEN 1 (FONDO) -->
    <img id="baslide-before" 
         class="baslide-img" 
         src="https://live.staticflickr.com/65535/54882035887_448976034e_b.jpg" 
         alt="Vista actual de Valencia">
    
    <!-- IMAGEN 2 (ENCIMA, se recorta) -->
    <img id="baslide-after" 
         class="baslide-img" 
         src="https://live.staticflickr.com/65535/54883148889_198e5b68c3_b.jpg" 
         alt="Vista de Valencia en 1956">
  </div>
</aside>

<!-- Contenido de texto que hace scroll -->
<main class="max-w-7xl mx-auto">
  <article class="relative">

    <!-- La sección de texto está por encima (z-10) -->
    <section class="relative w-full z-10 pointer-events-none">

      <!-- Paso 1 -->
      <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
        <div class="step-content relative bg-white/80 backdrop-blur-md shadow-lg rounded-lg p-8 mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto text-center">
          <p><b>20.11 horas</b><br><b><big>⚠️ Alerta de Protección Civil.</big></b><br>“Por las fuertes lluvias eviten<br>cualquier tipo de desplazamiento”
</p>
        </div>
      </div>

      <!-- Paso 2 -->
      <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
        <div class="step-content relative bg-white/80 backdrop-blur-md shadow-lg rounded-lg p-8 mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto text-center">
          <p>El 29 de octubre de 2024 una dana asoló el litoral valenciano.</p>
        </div>
      </div>

      <!-- Paso 3 -->
      <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
        <div class="step-content relative bg-white/80 backdrop-blur-md shadow-lg rounded-lg p-8 mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto text-center">
          <p>Las precipitaciones y desbordamientos alcanzaron niveles nunca antes vistos.<br>En solo una hora se registraron precipitaciones de <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">185 mm.</span></p>
        </div>
      </div>

      <!-- Paso 4 -->
      <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
        <div class="step-content relative bg-white/80 backdrop-blur-md shadow-lg rounded-lg p-8 mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto text-center">
          <p>Nunca antes en la historia de España se había registrado una cifra de precipitaciones tan elevada,<br>triplicando el umbral de 60mm que define las lluvias torrenciales.</p>
        </div>
      </div>

      <!-- Paso 5 -->
      <div class="step mb-[30vh] min-h-[70vh] flex flex-col items-center justify-center">
        <div class="step-content relative bg-white/80 backdrop-blur-md shadow-lg rounded-lg p-8 mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto text-center">
          <p>Esta es la reconstrucción minuto a minuto de un día negro en la historia de España que se cerró con <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">103 municipios inundados</span> en Valencia, <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">1.500 viviendas</span> declaradas como no habitables y la pérdida de <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">229 vidas</span>.</p>
        </div>
      </div>

    </section>
  </article>
</main>

<!-- 
  4. LÓGICA JAVASCRIPT
-->
<script src = "script_baSlide.js"></script>

