<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Scrollytelling Before/After Vertical Final</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
        }

        html, body {
            overflow-x: hidden;
            width: 100%;
        }

        /* Contenedor del Before/After. Fijo al fondo. */
        .baslide-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 10;
        }

        /* Contenedor que apila las im√°genes */
        .baslide-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        /* Estilo com√∫n para todas las im√°genes */
        .baslide-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-position: center;
            will-change: clip-path;
            opacity: 0; /* Por defecto ocultas, salvo las que se seleccionan por media query */
            transition: opacity 0.5s ease-in-out; 
            /* üåü CAMBIO CLAVE: Usa contain para evitar el corte, dejando m√°rgenes */
            object-fit: contain !important;
        }

        /* ---------------------------------------------------- */
        /* L√ìGICA DE VISIBILIDAD DE IM√ÅGENES POR DISPOSITIVO */
        /* ---------------------------------------------------- */

        /* M√ìVIL (Por defecto <= 767px) */
        .baslide-mobile {
            opacity: 1; 
            z-index: 1;
        }
        .baslide-desktop {
            opacity: 0; 
            z-index: 0;
        }

        /* PC (>= 768px) */
        @media (min-width: 768px) {
            .baslide-mobile {
                opacity: 0;
                z-index: 0;
            }
            .baslide-desktop {
                opacity: 1; 
                z-index: 1;
            }
        }

        /* ---------------------------------------------------- */
        /* L√ìGICA DEL CLIP-PATH (Siempre Vertical) */
        /* ---------------------------------------------------- */
        
        /* Imagen de fondo (Base). Siempre visible. */
        .baslide-before {
            z-index: 1; 
        }

        /* Imagen superior (Clipper). Siempre encima de la BASE. */
        .baslide-after {
            z-index: 2; 
            /* Estado inicial del clip-path: 0% visible (oculto arriba) */
            clip-path: polygon(0 0, 100% 0, 100% 0%, 0 0%);
        }

        /* Animaci√≥n texto (igual que antes) */
        .step-content {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            will-change: opacity, transform;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 0.5rem;
            padding: 2rem;
            text-align: center;
        }
        .step.is-active .step-content {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

<aside class="baslide-wrapper">
    <div class="baslide-container">
        
        <img id="baslide-before-mobile" 
            class="baslide-img baslide-before baslide-mobile" 
            src="https://live.staticflickr.com/65535/54885711679_70baf80bc2_b.jpg" 
            alt="M√≥vil Base">
        
        <img id="baslide-after-mobile" 
            class="baslide-img baslide-after baslide-mobile" 
            src="https://live.staticflickr.com/65535/54885761170_1e2967b8b3_b.jpg" 
            alt="M√≥vil Transici√≥n">

        <img id="baslide-before-desktop" 
            class="baslide-img baslide-before baslide-desktop" 
            src="https://live.staticflickr.com/65535/54884617207_ae91190b3b_b.jpg" 
            alt="PC Base">
        
        <img id="baslide-after-desktop" 
            class="baslide-img baslide-after baslide-desktop" 
            src="https://i.imgur.com/vRarMUo.jpeg" 
            alt="PC Transici√≥n">
    </div>
</aside>

<main class="max-w-7xl mx-auto relative z-20"> 
    <article class="relative">

        <section class="relative w-full z-10 pointer-events-none">

            <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
                <div class="step-content relative mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto">
                    <p><b>20.11 horas</b><br><b><big>‚ö†Ô∏è Alerta de Protecci√≥n Civil.</big></b><br>‚ÄúPor las fuertes lluvias eviten<br>cualquier tipo de desplazamiento‚Äù
</p>
                </div>
            </div>

            <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
                <div class="step-content relative mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto">
                    <p>El 29 de octubre de 2024 una dana asol√≥ el litoral valenciano.</p>
                </div>
            </div>

            <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
                <div class="step-content relative mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto">
                    <p>Las precipitaciones y desbordamientos alcanzaron niveles nunca antes vistos.<br>En solo una hora se registraron precipitaciones de <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">185 mm.</span></p>
                </div>
            </div>

            <div class="step mb-[80vh] min-h-[70vh] flex flex-col items-center justify-center">
                <div class="step-content relative mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto">
                    <p>Nunca antes en la historia de Espa√±a se hab√≠a registrado una cifra de precipitaciones tan elevada,<br>triplicando el umbral de 60mm que define las lluvias torrenciales.</p>
                </div>
            </div>

            <div class="step mb-[30vh] min-h-[70vh] flex flex-col items-center justify-center">
                <div class="step-content relative mx-4 text-xl leading-relaxed max-w-xl pointer-events-auto">
                    <p>Esta es la reconstrucci√≥n minuto a minuto de un d√≠a negro en la historia de Espa√±a que se cerr√≥ con <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">103 municipios inundados</span> en Valencia, <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">1.500 viviendas</span> declaradas como no habitables y la p√©rdida de <span style="background:#01f3b3; padding:1px 2px; border-radius:2px; color:black; box-shadow:0px 0px 5px 1px rgba(0,0,0,0.07); cursor:pointer;">229 vidas</span>.</p>
                </div>
            </div>

        </section>
    </article>
</main>

<script src = "script_baSlide.js"></script>
</body>
</html>

